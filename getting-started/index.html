<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>ChimpCheck: Concise and Effective Android Testing Library - ChimpCheck: Concise and Effective Android Testing</title>
    <meta name="generator" content="Hugo 0.31.1" />

    
    <meta name="description" content="A combinator library for writing test generators and properties for Android applications">
    
    <link rel="canonical" href="http://plv.colorado.edu/chimpcheck/getting-started/">
    
    <meta name="author" content="CUPLV">
    

    <meta property="og:url" content="http://plv.colorado.edu/chimpcheck/getting-started/">
    <meta property="og:title" content="ChimpCheck: Concise and Effective Android Testing">
    <meta property="og:image" content="http://plv.colorado.edu/chimpcheck/images/cclogo.jpeg">
    <meta name="apple-mobile-web-app-title" content="ChimpCheck: Concise and Effective Android Testing">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://plv.colorado.edu/chimpcheck/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://plv.colorado.edu/chimpcheck/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://plv.colorado.edu/chimpcheck/fonts/icon.eot');
        src: url('http://plv.colorado.edu/chimpcheck/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://plv.colorado.edu/chimpcheck/fonts/icon.woff')
               format('woff'),
             url('http://plv.colorado.edu/chimpcheck/fonts/icon.ttf')
               format('truetype'),
             url('http://plv.colorado.edu/chimpcheck/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://plv.colorado.edu/chimpcheck/stylesheets/application.css">
    <link rel="stylesheet" href="http://plv.colorado.edu/chimpcheck/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://plv.colorado.edu/chimpcheck/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://plv.colorado.edu/chimpcheck/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://plv.colorado.edu/chimpcheck/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-indigo palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        ChimpCheck: Concise and Effective Android Testing Library
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/Pezhin" title="@Pezhin on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/cuplv/chimpcheck" class="project">
    <div class="banner">
      
      <div class="logo">
        <img src="http://plv.colorado.edu/chimpcheck/images/cclogo.jpeg">
      </div>
      
      <div class="name">
        <strong>ChimpCheck: Concise and Effective Android Testing 
          <span class="version">0.1.0-SNAPSHOT</span></strong>
        
        <br> cuplv/chimpcheck 
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
      <ul class="repo">
        <li class="repo-download">
          <a href="https://github.com/cuplv/chimpcheck/archive/master.zip" target="_blank" title="Download" data-action="download">
            <i class="icon icon-download"></i> Download
          </a>
        </li>
        <li class="repo-stars">
          <a href="https://github.com/cuplv/chimpcheck/stargazers" target="_blank" title="Stargazers" data-action="star">
            <i class="icon icon-star"></i> Stars
            <span class="count">&ndash;</span>
          </a>
        </li>
      </ul>
      <hr> 

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="ChimpCheck" href="http://plv.colorado.edu/chimpcheck/">
	
	ChimpCheck
</a>



  
</li>



<li>
  
    



<a class="current" title="Getting started" href="http://plv.colorado.edu/chimpcheck/getting-started/">
	
	Getting started
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="License" href="http://plv.colorado.edu/chimpcheck/license/">
	
	License
</a>



  
</li>


        </ul>
         
        <hr>
        <span class="section">The website maintainer</span>

        <ul>
           
          <li>
            <a href="https://github.com/Pezhin" target="_blank" title="@Pezhin on GitHub">
              @Pezhin on GitHub
            </a>
          </li>
           
          <li>
            <a href="mailto:me@peilun.org" title="Email of me@peilun.org">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
	</div>

	<article class="article">
		<div class="wrapper">
			<h1>ChimpCheck: Concise and Effective Android Testing Library </h1>

			

<h2 id="high-level-description-of-the-architecture">High-level description of the architecture</h2>

<ol>
<li>Compile Android Apps with ChimpCheck library</li>
<li>Use ChimpCombinator to generate the test script</li>
<li>Use ScalaBashing to run the script (suggested but optional)</li>
</ol>

<h2 id="build-instructions">Build Instructions</h2>

<p>Current state of ChimpCheck is still experimental, hence build scripts we will write currently assume that you have certain libraries published in your local ivy2 repository. Follow these instructions to get started with ChimpCheck.</p>

<p><strong>1. Configurate your Android application</strong>:</p>

<p>In the build.gradle of the app module, add ChimpCheck dependency and use ChimpCheck as the testInstrumentationRunner:</p>

<pre><code>android {
  defaultConfig {
    ...
    testInstrumentationRunner &quot;edu.colorado.plv.chimp.driver.ChimpJUnitRunner&quot; 
  }
}

dependencies {
   compile 'edu.colorado.plv.chimp:chimpcheck:1.0'
}
</code></pre>

<p>Remember to use JCenter in the project build.gradle file (default setting in Android Studio)</p>

<pre><code>allprojects {
    repositories {
        jcenter()
    }
}
</code></pre>

<p><strong>2. Add a tester class in the app</strong>:</p>

<p>In the path <code>src/androidTest/java/**com.packagename.sample**/</code>, create a file (e.g TestExpresso):</p>

<pre><code>package com.packagename.sample; // replace with your app's package name

import android.support.test.filters.LargeTest;
import android.support.test.rule.ActivityTestRule;
import android.support.test.runner.AndroidJUnit4;
import org.junit.Rule;
import org.junit.runner.RunWith;
import edu.colorado.plv.chimp.driver.EspressoChimpDriver;

@RunWith(AndroidJUnit4.class)
@LargeTest
public class TestExpresso extends EspressoChimpDriver {

    @Rule
    public ActivityTestRule&lt;MainActivity&gt; activityTestRule =
            new ActivityTestRule&lt;MainActivity&gt;(MainActivity.class);

}
</code></pre>

<p><code>MainActivity</code> is the activity where you want to start your test.</p>

<p><strong>3. Compile your Android apk</strong></p>

<p>Run in command line (or click in Android Studio)</p>

<pre><code>./gradle assembleDebug
./gradle assembleAndroidTest
</code></pre>

<p>and find your apks at
<code>path-to-project/app/build/outputs/apk/</code> and we want <code>app-debug.apk</code> and <code>app-debug-androidTest.apk</code></p>

<p><strong>4. Set up ScalaBashing and ChimpCombinator</strong></p>

<p>Clone and locally publish ScalaBashing at <a href="https://github.com/cuplv/ScalaBashing">https://github.com/cuplv/ScalaBashing</a></p>

<p>You need to have <strong>sbt</strong> installed. See instructions <a href="https://www.scala-sbt.org/1.0/docs/Setup.html">here</a></p>

<pre><code>$ git clone https://github.com/cuplv/ScalaBashing.git
&lt;ScalaBashing Root&gt;$ sbt publishLocal
</code></pre>

<p>This is required by ChimpCombinator. Next, you will need to do the same for ChimpCombinator. Assuming that you have cloned this repository, just do the following:</p>

<pre><code>git clone https://github.com/cuplv/ChimpCheck
&lt;ChimpCheck Root&gt;/ChimpCombinator$ sbt publishLocal
</code></pre>

<h2 id="try-this-checker-sample">Try this checker sample!</h2>

<p>You need to have <strong>adb</strong> in the <code>$PATH</code></p>

<p>We have a skeleton testing template for you already:</p>

<pre><code>https://github.com/cuplv/chimpcheck/tree/master/examples/

</code></pre>

<p>Compile the Android project in <code>ChimpTrainer</code> and use <code>ChimpChecker</code> to test it!</p>

<p>Please refer <code>https://github.com/cuplv/chimpcheck/blob/master/examples/ChimpChecker/src/main/scala/edu/colorado/plv/chimp/example/TestApp.scala</code> for how to write ChimpCheck scripts.</p>

<p>Sample Scripts:</p>

<pre><code>Sleep(3000):&gt;&gt; Click(&quot;Begin&quot;) :&gt;&gt; Type(*, &quot;test&quot;) :&gt;&gt; Type(*, &quot;test&quot;) :&gt;&gt; Click(&quot;Login&quot;) :&gt;&gt; Click(&quot;Countdowntimer Testing&quot;) :&gt;&gt; Click(&quot;5 seconds&quot;) :&gt;&gt; ClickBack

Click(R.id.buttonOK) :&gt;&gt; (isDisplayed(&quot;Allow&quot;) Then (Click(&quot;Allow&quot;) :&gt;&gt; Skip)) :&gt;&gt; LongClick(&quot;*&quot;)
</code></pre>

<h2 id="how-to-start-up-your-own-tests">How to start up your own tests</h2>

<p><em>Currently, selective cut and paste from ChimpChecker is the best option.</em>
<a href="https://github.com/cuplv/chimpcheck/blob/master/examples/ChimpChecker/src/main/scala/edu/colorado/plv/chimp/example/TestApp.scala">ChimpCheck example here</a></p>

<p>But here are the main components you need:</p>

<ul>
<li><p>A ChimpDriver Test Harness: Equivalent of &lsquo;TestExpresso&rsquo; class in the App project. This is the AndroidJUnit4 harness that extends the ChimpDriver. This is just boilerplate code and all you need is to instantiate &lsquo;ActivityTestRule&rsquo; with your app&rsquo;s main activity class.</p></li>

<li><p>A ChimpChecker Test Generator: Equivalent of TestApp.scala in the ChimpChecker project. Its the main loader for your test cases.</p></li>

<li><p>.Jar of the Android App classes in &lsquo;lib&rsquo; folder of the ChimpChecker test generator. You will have to manually extract this from your Android App project for now. Will work on a better (gradle) solution to this in the near future.</p></li>
</ul>

<p>The third bullet for now, is needed only because we want to reference the R.id.XXX static identifiers of your App, but in future that could be more reasons for this dependency..</p>

<p>The current way I fulfill this dependency (.Jar in lib folder) is obviously a hack, but we are still looking for a better solution. Embedding this dependency
naively with gradle is not feasible, because &lsquo;pure&rsquo; Java/Scala projects cannot depend on &lsquo;Android&rsquo; projects for some reason (something to do with the Android aar&rsquo;s).</p>


			<aside class="copyright" role="note">
				
				&copy; 2018 The content in the website is released under the CC license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
  </div>

  <div class="next">
  
      <a href="http://plv.colorado.edu/chimpcheck/" title="ChimpCheck">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              ChimpCheck
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/plv.colorado.edu\/chimpcheck\/';
      var repo_id  = 'cuplv\/chimpcheck';
    
    </script>

    <script src="http://plv.colorado.edu/chimpcheck/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

